[gd_scene load_steps=42 format=3 uid="uid://bpqe01fd77dlr"]

[ext_resource type="Texture2D" uid="uid://cj3th4gsp2g3q" path="res://Textures/icon.svg" id="1_e7dr8"]
[ext_resource type="Script" path="res://Scripts/CamFollower.gd" id="1_jo5dm"]
[ext_resource type="Shader" uid="uid://c8xulx435ubrn" path="res://Shaders/BooraShade.tres" id="1_o3p4r"]
[ext_resource type="Script" path="res://Scripts/VisualController.gd" id="3_3rhbo"]
[ext_resource type="Shader" uid="uid://csn4wra21irbj" path="res://Shaders/Colored.tres" id="4_3c85f"]
[ext_resource type="PackedScene" uid="uid://d2d4fj46hbg6h" path="res://Prefabs/CollectionCircle.tscn" id="4_3e34h"]
[ext_resource type="Texture2D" uid="uid://cdpjcehp0pree" path="res://Textures/Square.png" id="4_3n5cx"]
[ext_resource type="Texture2D" uid="uid://3kmu01rvqgf" path="res://Textures/Spire BG.png" id="4_nqjia"]
[ext_resource type="Texture2D" uid="uid://ntwv2v662p4r" path="res://Textures/Wizard_chill.png" id="6_708dw"]
[ext_resource type="Script" path="res://Scripts/Inventory.gd" id="6_cr2bj"]
[ext_resource type="Texture2D" uid="uid://bq6xh6g8x06aq" path="res://Textures/EyeA.png" id="6_gnmrq"]
[ext_resource type="Script" path="res://Scripts/EyeRoot.gd" id="6_tm8eb"]
[ext_resource type="Texture2D" uid="uid://dsht22kf10enj" path="res://Textures/CauldronBack.png" id="7_lottx"]
[ext_resource type="Texture2D" uid="uid://ojx3anj522a" path="res://Textures/EyeB.png" id="7_x1216"]
[ext_resource type="Texture2D" uid="uid://6y8eselso5yw" path="res://Textures/CauldronFront.png" id="8_34rap"]
[ext_resource type="PackedScene" uid="uid://ceihp2sao4egy" path="res://Prefabs/book.tscn" id="8_a6jq7"]
[ext_resource type="Texture2D" uid="uid://dpn85knuurllt" path="res://Textures/Shelves.png" id="9_puqg4"]
[ext_resource type="PackedScene" uid="uid://brkqxgxvheuoh" path="res://Prefabs/dice.tscn" id="9_ytf70"]
[ext_resource type="PackedScene" uid="uid://bviaa64t3ly36" path="res://Prefabs/crystal.tscn" id="10_5bxhk"]
[ext_resource type="Texture2D" uid="uid://d1ppabnfq1g6c" path="res://Textures/ShelvesVert.png" id="10_bnmwc"]
[ext_resource type="AudioStream" uid="uid://d2s5c51n1yuup" path="res://Audio/Music/sb_cobalt_pianoonly.mp3" id="10_g3scv"]
[ext_resource type="PackedScene" uid="uid://co3ywbx7x8oeb" path="res://Prefabs/mushroom.tscn" id="11_koneu"]
[ext_resource type="Script" path="res://Scripts/InventoryUI.gd" id="11_pd56u"]
[ext_resource type="Texture2D" uid="uid://c6sl7umujsqpf" path="res://Textures/InventoryUIBG.png" id="11_vlul6"]
[ext_resource type="PackedScene" uid="uid://d7ihts1mgxrl" path="res://Prefabs/bottle.tscn" id="12_sav4g"]
[ext_resource type="PackedScene" uid="uid://blw0n7w1lrq4y" path="res://Prefabs/rock_golem.tscn" id="13_p7ug6"]
[ext_resource type="Script" path="res://Scripts/Wizard.gd" id="15_a2ub1"]
[ext_resource type="Texture2D" uid="uid://d4jbqa1ashcw3" path="res://Textures/Wizard_cast.png" id="16_ehh23"]
[ext_resource type="Texture2D" uid="uid://bs13kb5wfk16t" path="res://Textures/SpeechBG.png" id="16_jx0wd"]
[ext_resource type="Texture2D" uid="uid://co1kbdow37cme" path="res://Textures/Hand.png" id="17_4ijdu"]

[sub_resource type="Curve" id="Curve_x43gp"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 1.4, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_83mwl"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 1.4, 0.0, 0, 0]
point_count = 2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_awlci"]
shader = ExtResource("4_3c85f")
shader_parameter/Color = Color(1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p37ti"]
shader = ExtResource("1_o3p4r")
shader_parameter/ColorParameter = Color(0, 0, 0, 1)
shader_parameter/VisTime = null
shader_parameter/WobbleScale = 0.5
shader_parameter/SizeScaler = 1.0

[sub_resource type="Curve" id="Curve_fe7c4"]
_data = [Vector2(0, 0), 0.0, 2.12539, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_lo4hw"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_nttq8"]
_data = [Vector2(0, 0.274286), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_4ajs1"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_2ha8c"]
offsets = PackedFloat32Array(0, 0.339506, 0.62963, 1)
colors = PackedColorArray(1, 1, 1, 1, 0.275625, 0.656354, 0.590078, 1, 0.805209, 0.535868, 0.771012, 1, 0.93603, 0.253281, 0.350684, 1)

[sub_resource type="CircleShape2D" id="CircleShape2D_pv872"]
radius = 16.0312

[sub_resource type="LabelSettings" id="LabelSettings_rbel8"]
font_size = 36
font_color = Color(0.207843, 0.207843, 0.207843, 1)

[node name="Node2D" type="Node2D"]

[node name="SpireBg" type="Sprite2D" parent="."]
position = Vector2(0, 274)
texture = ExtResource("4_nqjia")
offset = Vector2(0, -2800)

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
position = Vector2(0, -1200)
zoom = Vector2(0.335, 0.335)
script = ExtResource("1_jo5dm")
target = NodePath("../Boora")
speed = 800.0
disTillMove = 50.0
maxDis = 300.0
maxDisCurve = SubResource("Curve_x43gp")
vertContraints = Vector2(-3947, -1000)
offsetY = -300.0

[node name="CauldronBack" type="Sprite2D" parent="."]
position = Vector2(171, -39)
texture = ExtResource("7_lottx")

[node name="Cauldron" type="Node2D" parent="."]
position = Vector2(171, -39)

[node name="CauldronTarget" type="Node2D" parent="Cauldron"]
position = Vector2(0, 146)

[node name="ItemsParent" type="Node2D" parent="."]

[node name="Book" parent="ItemsParent" instance=ExtResource("8_a6jq7")]
position = Vector2(-338, -1058)

[node name="Dice" parent="ItemsParent" instance=ExtResource("9_ytf70")]

[node name="Crystal" parent="ItemsParent" instance=ExtResource("10_5bxhk")]

[node name="Mushroom" parent="ItemsParent" instance=ExtResource("11_koneu")]

[node name="Bottle" parent="ItemsParent" instance=ExtResource("12_sav4g")]

[node name="Rock Golem" parent="ItemsParent" instance=ExtResource("13_p7ug6")]

[node name="Rock Golem2" parent="ItemsParent" instance=ExtResource("13_p7ug6")]
position = Vector2(31, -2701)

[node name="Crystal2" parent="ItemsParent" instance=ExtResource("10_5bxhk")]
position = Vector2(27, -2290)

[node name="Bottle2" parent="ItemsParent" instance=ExtResource("12_sav4g")]
position = Vector2(101, -3866)

[node name="Book2" parent="ItemsParent" instance=ExtResource("8_a6jq7")]
position = Vector2(-22, -3864)

[node name="CauldronFront" type="Sprite2D" parent="."]
position = Vector2(171, -39)
texture = ExtResource("8_34rap")

[node name="CollectionCircle" parent="." instance=ExtResource("4_3e34h")]
position = Vector2(383, -656)
scale = Vector2(1, 1)

[node name="CircleContinueDialogue" parent="." instance=ExtResource("4_3e34h")]
position = Vector2(384, -656.001)
scale = Vector2(1, 1)
collision_layer = 0
collision_mask = 2
metadata/CollType = "CollContinue"

[node name="InventoryUI" type="Node2D" parent="." node_paths=PackedStringArray("targetFollow")]
position = Vector2(2.99997, -727)
scale = Vector2(5, 5)
script = ExtResource("11_pd56u")
targetFollow = NodePath("../Boora")
targetRadius = 150.0
speed = 1000.0
disThreshold = 100.0
disThreshCurve = SubResource("Curve_83mwl")

[node name="InvenFill" type="Sprite2D" parent="InventoryUI"]
material = SubResource("ShaderMaterial_awlci")
scale = Vector2(0.032, 0.032)
texture = ExtResource("4_3n5cx")

[node name="InventoryUibg" type="Sprite2D" parent="InventoryUI"]
scale = Vector2(0.325, 0.325)
texture = ExtResource("11_vlul6")

[node name="Boora" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_p37ti")
position = Vector2(0, -728)
scale = Vector2(5, 5)
texture = ExtResource("1_e7dr8")
script = ExtResource("3_3rhbo")
speed = 900.0
speedUpRate = 1.0
speedDownRate = 3.0
speedCurve = SubResource("Curve_fe7c4")
happyRange = 10.0
threshold = 40.0
thresholdCurve = SubResource("Curve_lo4hw")
bodyRect = Rect2(0, 0, 20, 20)
containerRect = Rect2(0, -2546.5, 1000, 4850)
visTimeScale = 1.0
visTimeCurve = SubResource("Curve_nttq8")
visWobbleRange = Vector2(1, 1.1)
visWobbleCurve = SubResource("Curve_4ajs1")

[node name="EyeRoot" type="Node2D" parent="Boora" node_paths=PackedStringArray("controller")]
script = ExtResource("6_tm8eb")
controller = NodePath("..")

[node name="EyeA" type="Sprite2D" parent="Boora/EyeRoot"]
position = Vector2(-6, -4.4)
rotation = -0.39968
scale = Vector2(0.105, 0.105)
texture = ExtResource("6_gnmrq")

[node name="EyeB" type="Sprite2D" parent="Boora/EyeRoot"]
position = Vector2(8.6, -7.4)
scale = Vector2(0.105, 0.105)
texture = ExtResource("7_x1216")

[node name="Inventory" type="Area2D" parent="Boora" node_paths=PackedStringArray("invenFill")]
collision_layer = 3
script = ExtResource("6_cr2bj")
maxCapacity = 3
invenFill = NodePath("../../InventoryUI/InvenFill")
invenGrad = SubResource("Gradient_2ha8c")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boora/Inventory"]
shape = SubResource("CircleShape2D_pv872")

[node name="AudioListener2D" type="AudioListener2D" parent="Boora"]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Boora"]
stream = ExtResource("10_g3scv")
autoplay = true

[node name="ShelvesFolder" type="Node2D" parent="."]

[node name="Shelves3" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(12, -3915)
texture = ExtResource("9_puqg4")

[node name="Shelves2" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(0, -2335)
texture = ExtResource("9_puqg4")

[node name="Shelves" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(0, -2752)
texture = ExtResource("9_puqg4")

[node name="ShelvesVert" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(-300, -1200)
texture = ExtResource("10_bnmwc")

[node name="ShelvesVert2" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(300, -1200)
texture = ExtResource("10_bnmwc")

[node name="ShelvesVert3" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(-300, -1750)
texture = ExtResource("10_bnmwc")

[node name="ShelvesVert4" type="Sprite2D" parent="ShelvesFolder"]
position = Vector2(300, -1750)
texture = ExtResource("10_bnmwc")

[node name="WizardChill" type="Sprite2D" parent="." node_paths=PackedStringArray("Inventory", "continueCircle", "cauldron", "shopLabel", "hand")]
position = Vector2(384, -102)
texture = ExtResource("6_708dw")
script = ExtResource("15_a2ub1")
Inventory = NodePath("../Boora/Inventory")
continueCircle = NodePath("../CircleContinueDialogue")
cauldron = NodePath("../Cauldron/CauldronTarget")
rangeToPull = 150.0
shopLabel = NodePath("../SpeechBg/Label")
castTexture = ExtResource("16_ehh23")
hand = NodePath("../Hand")
introDialogue = Array[String](["Hold left click to circle above me!", "I have a shopping list I need some help with ", "Just bring the following items back here"])
ShoppingLists = Array[Array]([[0, 1], [1, 2, 3]])

[node name="SpeechBg" type="Sprite2D" parent="."]
position = Vector2(384, -403)
scale = Vector2(1.3625, 1.22375)
texture = ExtResource("16_jx0wd")

[node name="Label" type="Label" parent="SpeechBg"]
offset_left = -156.0
offset_top = -79.0
offset_right = 157.0
offset_bottom = 81.0
text = "Hold left click to the circle above me!"
label_settings = SubResource("LabelSettings_rbel8")
autowrap_mode = 2

[node name="Hand" type="Sprite2D" parent="."]
visible = false
position = Vector2(12, 82)
rotation = -0.481711
scale = Vector2(1, 1)
texture = ExtResource("17_4ijdu")

[connection signal="area_entered" from="CollectionCircle" to="WizardChill" method="OnInvetoryCollection"]
[connection signal="area_entered" from="CircleContinueDialogue" to="WizardChill" method="OnContinueDialogue"]
[connection signal="area_entered" from="Boora/Inventory" to="Boora/Inventory" method="_on_area_entered"]
